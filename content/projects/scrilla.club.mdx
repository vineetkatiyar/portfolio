---
title: Scrilla.Club - Role-Based Affiliate E-Commerce
summary:
  A sophisticated e-commerce platform with a hierarchical influencer and agency
  marketing system.
image: /images/projects/scrilla.png
author: 'Vineet Katiyar'
publishedAt: '2025-15-11'
---

# ğŸ§µ Scrilla â€” Commission-Based Clothing E-Commerce Platform

Scrilla is a production-grade clothing e-commerce platform featuring a **multi-level commission system**, **passkey-based registration**, **wallet with Scrilla Points (SP)**, **leaderboards**, and a fully functional **admin panel**.  
This case study explains the entire architecture, logic, and my contributions.

> âš  This is a professional case study.  
> Actual source code cannot be shared due to NDA, but every feature, flow, architecture, and implementation is described clearly.

---

# ğŸš€ Live Website  
ğŸ‘‰ https://scrilla.club  
---

# ğŸ—ï¸ System Architecture

This diagram represents the entire system flow including frontend, backend, DB, and external integrations.

---

# ğŸ¯ What is Scrilla?

Scrilla is a **clothing e-commerce platform** where users can shop and influencers/agencies earn **up to 10% commission** on purchases made via their referral passkeys.

Key Features:
- Passkey-based registration (NO open signup)
- Multi-level referral system
- Influencer & agency hierarchy
- Commission unlock after 15 days (return period)
- SP (Scrilla Points) based wallet & redemption
- Leaderboard ranking
- Full e-commerce flow + shipping + payments
- Complete admin panel

---

# ğŸ§© User Roles & Permissions

Scrilla has **3 main user roles**:

### ğŸ‘‘ Admin
- System owner  
- Generates **global passkeys**  
- Manages products, banners, orders, categories, collections, tags  
- Manages staff permissions  
- Dashboard analytics  

### â­ Influencer
- Registers using **Influencer Global Passkey**  
- Gets their own passkey to share  
- Passkey becomes active after minimum purchase (e.g., â‚¹10,000)  
- Earns **10% commission** on direct referrals  
- SP wallet, referrals, leaderboard visible  

### ğŸ¢ Agency
- Registers using **Agency Global Passkey**  
- Can give passkeys only to influencers  
- Earns **2% commission** on influencer purchases  


---

# ğŸ” Passkey System (Core Feature)

Registration is **100% passkey based**.

### ğŸŸ¢ Admin:
Has 2 global passkeys:
- Influencer Global Passkey  
- Agency Global Passkey  

### ğŸŸ¡ Influencer Passkey:
- Influencer gets their own passkey  
- Passkey activates only after completing minimum purchase  
- Before activation â†’ cannot refer  

### ğŸ”µ Agency Passkey:
- Agency can give passkey only to influencers  
- Cannot refer another agency  

---

# ğŸ’° Commission Structure (SP System)

Commission is earned when your referred user purchases a product:
- Influencerâ€™s referred user purchases â†’ Influencer earns 10%
- Influencer belongs to Agency â†’ Agency earns 2%

Important:
- Only DIRECT parent earns from child purchase  
- No multi-level chain (simple 1-level structure)  
- Commission unlocks after **15 days** (return period)  
- SP = Scrilla Points  
- **1 SP = 1 Rupee**  
- SP usable at checkout  
- SP withdrawable to bank  

---

# ğŸ’¼ Wallet System

### 1ï¸âƒ£ Scrilla Points  
- SP balance  
- Lifetime earnings  
- Level system  
- Discount unlock  
- Progress ring  

### 2ï¸âƒ£ My Referrals  
Displays:
- Name  
- Phone  
- Total Purchase  
- Total Earned SP  
- Referral tree  
- Passkey share (QR + link)  

### 3ï¸âƒ£ Leaderboard  
- Monthly ranking  
- Influencers & agencies  
- Auto reset each month  
---

# ğŸ›ï¸ E-Commerce Features (Client Side)

- Passkey-based signup  
- Session-based login (no JWT)  
- Product listing  
- Product details  
- Variants (size, color, stock)  
- Wishlist  
- Cart  
- Search  
- Filters  
- Categories  
- Collections  
- Razorpay payment  
- ShipRocket shipping/tracking  
- Order history  
- Order tracking timeline  
- Ratings & reviews  
- Apply SP during checkout  
- Minimum SP usage condition (dynamic)  

---

# ğŸ”§ Admin Panel Features

### ğŸ–¥ Admin Dashboard  
- Total sales  
- Total customers  
- Total earnings  
- Charts  
- Recent orders  
- Top selling products  

### ğŸ™ Banner Management  
- Mobile & desktop images/videos  

### ğŸ“š Collections & Categories  
- Add/edit/delete  
- Assign products  

### ğŸ›’ Product Management  
- Create/edit product  
- Price, SKU, description  
- Assign collection, tags  
- Variant creation (size, color, stock)  
- Thumbnail upload  
- Multiple images via S3/ImageKit  
- Bulk upload using Excel 

### ğŸ“¦ Orders  
- Track complete order lifecycle  
- Packing â†’ Shipping â†’ Delivery  
- ShipRocket integration  

### ğŸ’³ Payments  
- Razorpay logs  
- Payment status  

### ğŸ‘¥ Customers  
- Customer details  
- Addresses  
- Order history  

### ğŸ›¡ Staff Permissions  
- Route-level permission management  

### ğŸ“¬ Contact Queries  
- Received via contact-us form  

### ğŸ”‘ Admin Profile  
- Shows both global passkeys  
- Profile update  

---

# âš™ï¸ Tech Stack (Production Ready)

### **Frontend**
- React + Vite  
- Redux Toolkit  
- Tailwind CSS  
- ShadCN UI  

### **Backend**
- Node.js  
- Express.js  
- Prisma ORM  

### **Database**
- PostgreSQL  

### **Caching & Sessions**
- Redis  

### **Storage**
- AWS S3  
- ImageKit CDN  

### **Payments**
- Razorpay  

### **Shipping**
- ShipRocket API  

### **Emails**
- NodeMailer  

---

# ğŸ§¬ Database Overview (Prisma ORM)

Key tables include:
- `User` (roles, hierarchy)  
- `GlobalPasskey`  
- `Wallet`  
- `WalletTransaction`  
- `LifetimeEarnings`  
- `MonthlyEarnings`  
- `Order`  
- `OrderItems`  
- `Transaction`  
- `Product`  
- `Category`, `Collection`, `Tags`  
- `Replacement`, `Review`, `Staff`  

---

# ğŸ§® Commission Unlock Flow (Backend Logic)

1. User purchases product
2. Order created â†’ Razorpay payment success
3. ShipRocket handles shipping
4. Order delivered
5. Cron job runs at night
6. Checks unlockAfter (15 days)
7. WalletTransaction â†’ COMPLETED
8. SP credited to influencer & agency
9. MonthlyEarnings & LifetimeEarnings updated

---

# ğŸ›  My Contributions (Full Stack Work)

### **Frontend**
- Influencer dashboard  
- Wallet system UI  
- Referral page  
- Leaderboard  
- Product pages  
- Cart/Wishlist  
- ShadCN UI components  
- State management using Redux Toolkit  

### **Backend**
- Passkey system (activation, pending activation, logs)  
- Multi-level commission logic  
- Wallet system + SP-based transactions  
- Cron jobs for unlock logic  
- Prisma schema design  
- Razorpay integration  
- ShipRocket API integration  
- Image uploads to AWS S3 & ImageKit  
- Transactional emails (NodeMailer)  
- Admin panel APIs

---

# ğŸ§¾ Why This Project Is Valuable

This project demonstrates:
- Real-world architecture  
- Full-stack responsibilities  
- Complex business logic  
- Scalable referral system  
- Payment + shipping integrations  
- Production database management  
- Modern tech stack in action  

---

# ğŸ“ Contact

**Vineet Katiyar**  
Full Stack Developer  
ğŸ“§ Email: vineetkatiyar98@gmail.com  
ğŸ”— LinkedIn: https://www.linkedin.com/in/vineetkatiyar98